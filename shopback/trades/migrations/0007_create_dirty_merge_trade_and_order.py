# -*- coding: utf-8 -*-
from __future__ import unicode_literals

from django.db import migrations, models
import bitfield.models
import shopback.trades.models_dirty


class Migration(migrations.Migration):

    dependencies = [
        ('users', '0001_initial'),
        ('logistics', '0002_auto_20160422_1639'),
        ('trades', '0006_add_index_trade_status_and_outer_id'),
    ]

    operations = [
        migrations.CreateModel(
            name='DirtyMergeOrder',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('oid', models.CharField(default=shopback.trades.models_dirty.default_dirtyorder_oid, max_length=32, verbose_name='\u539f\u5355ID')),
                ('cid', models.BigIntegerField(null=True, verbose_name='\u5546\u54c1\u5206\u7c7b')),
                ('num_iid', models.CharField(max_length=64, verbose_name='\u7ebf\u4e0a\u5546\u54c1\u7f16\u53f7', blank=True)),
                ('title', models.CharField(max_length=128, verbose_name='\u5546\u54c1\u6807\u9898', blank=True)),
                ('price', models.FloatField(default=0.0, verbose_name='\u5355\u4ef7')),
                ('sku_id', models.CharField(max_length=20, verbose_name='\u89c4\u683cID', blank=True)),
                ('num', models.IntegerField(default=0, null=True, verbose_name='\u5546\u54c1\u6570\u91cf')),
                ('outer_id', models.CharField(max_length=64, verbose_name='\u5546\u54c1\u7f16\u7801', blank=True)),
                ('outer_sku_id', models.CharField(max_length=20, verbose_name='\u89c4\u683c\u7f16\u7801', blank=True)),
                ('total_fee', models.FloatField(default=0.0, verbose_name='\u603b\u8d39\u7528')),
                ('payment', models.FloatField(default=0.0, verbose_name='\u5b9e\u4ed8\u6b3e')),
                ('discount_fee', models.FloatField(default=0.0, verbose_name='\u6298\u6263')),
                ('adjust_fee', models.FloatField(default=0.0, verbose_name='\u8c03\u6574\u8d39\u7528')),
                ('sku_properties_name', models.CharField(max_length=256, verbose_name='\u8d2d\u4e70\u89c4\u683c', blank=True)),
                ('refund_id', models.BigIntegerField(null=True, verbose_name='\u9000\u6b3e\u53f7', blank=True)),
                ('refund_status', models.CharField(blank=True, max_length=40, verbose_name='\u9000\u6b3e\u72b6\u6001', choices=[(b'NO_REFUND', b'\xe6\xb2\xa1\xe6\x9c\x89\xe9\x80\x80\xe6\xac\xbe'), (b'WAIT_SELLER_AGREE', b'\xe4\xb9\xb0\xe5\xae\xb6\xe5\xb7\xb2\xe7\xbb\x8f\xe7\x94\xb3\xe8\xaf\xb7\xe9\x80\x80\xe6\xac\xbe'), (b'WAIT_BUYER_RETURN_GOODS', b'\xe5\x8d\x96\xe5\xae\xb6\xe5\xb7\xb2\xe7\xbb\x8f\xe5\x90\x8c\xe6\x84\x8f\xe9\x80\x80\xe6\xac\xbe'), (b'WAIT_SELLER_CONFIRM_GOODS', b'\xe4\xb9\xb0\xe5\xae\xb6\xe5\xb7\xb2\xe7\xbb\x8f\xe9\x80\x80\xe8\xb4\xa7'), (b'SELLER_REFUSE_BUYER', b'\xe5\x8d\x96\xe5\xae\xb6\xe6\x8b\x92\xe7\xbb\x9d\xe9\x80\x80\xe6\xac\xbe'), (b'CLOSED', b'\xe9\x80\x80\xe6\xac\xbe\xe5\x85\xb3\xe9\x97\xad'), (b'SUCCESS', b'\xe9\x80\x80\xe6\xac\xbe\xe6\x88\x90\xe5\x8a\x9f')])),
                ('pic_path', models.CharField(max_length=512, verbose_name='\u5546\u54c1\u56fe\u7247', blank=True)),
                ('seller_nick', models.CharField(max_length=32, verbose_name='\u5356\u5bb6\u6635\u79f0', blank=True)),
                ('buyer_nick', models.CharField(max_length=32, verbose_name='\u4e70\u5bb6\u6635\u79f0', blank=True)),
                ('created', models.DateTimeField(null=True, verbose_name='\u521b\u5efa\u65e5\u671f', blank=True)),
                ('pay_time', models.DateTimeField(db_index=True, null=True, verbose_name='\u4ed8\u6b3e\u65e5\u671f', blank=True)),
                ('consign_time', models.DateTimeField(null=True, verbose_name='\u53d1\u8d27\u65e5\u671f', blank=True)),
                ('out_stock', models.BooleanField(default=False, verbose_name='\u7f3a\u8d27')),
                ('is_merge', models.BooleanField(default=False, verbose_name='\u5408\u5e76')),
                ('is_rule_match', models.BooleanField(default=False, verbose_name='\u5339\u914d')),
                ('is_reverse_order', models.BooleanField(default=False, verbose_name='\u8ffd\u6539')),
                ('gift_type', models.IntegerField(default=0, verbose_name='\u7c7b\u578b', choices=[(0, '\u5b9e\u4ed8'), (1, '\u8d60\u9001'), (2, '\u6ee1\u5c31\u9001'), (3, '\u62c6\u5206'), (4, '\u9000\u8d27'), (5, '\u6362\u8d27'), (6, '\u4e70\u5c31\u9001')])),
                ('status', models.CharField(blank=True, max_length=32, verbose_name='\u8ba2\u5355\u72b6\u6001', choices=[(b'TRADE_NO_CREATE_PAY', '\u6ca1\u6709\u521b\u5efa\u652f\u4ed8\u5b9d\u4ea4\u6613'), (b'WAIT_BUYER_PAY', '\u7b49\u5f85\u4e70\u5bb6\u4ed8\u6b3e'), (b'WAIT_SELLER_SEND_GOODS', '\u7b49\u5f85\u5356\u5bb6\u53d1\u8d27'), (b'WAIT_BUYER_CONFIRM_GOODS', '\u7b49\u5f85\u4e70\u5bb6\u786e\u8ba4\u6536\u8d27'), (b'TRADE_BUYER_SIGNED', '\u5df2\u7b7e\u6536,\u8d27\u5230\u4ed8\u6b3e\u4e13\u7528'), (b'TRADE_FINISHED', '\u4ea4\u6613\u6210\u529f'), (b'TRADE_CLOSED', '\u9000\u6b3e\u6210\u529f\uff0c\u4ea4\u6613\u5173\u95ed'), (b'TRADE_CLOSED_BY_TAOBAO', '\u4ed8\u6b3e\u4ee5\u524d\u5173\u95ed\u4ea4\u6613'), (b'WAIT_CONFIRM_WAIT_SEND_GOODS', '\u4ed8\u6b3e\u4fe1\u606f\u5f85\u786e\u8ba4\uff0c\u5f85\u53d1\u8d27'), (b'WAIT_CONFIRM_SEND_GOODS', '\u4ed8\u6b3e\u4fe1\u606f\u5f85\u786e\u8ba4\uff0c\u5df2\u53d1\u8d27'), (b'WAIT_CONFIRM_GOODS_CONFIRM', '\u4ed8\u6b3e\u4fe1\u606f\u5f85\u786e\u8ba4\uff0c\u5df2\u6536\u8d27'), (b'CONFIRM_WAIT_SEND_GOODS', '\u4ed8\u6b3e\u4fe1\u606f\u5df2\u786e\u8ba4\uff0c\u5f85\u53d1\u8d27'), (b'CONFIRM_SEND_GOODS', '\u4ed8\u6b3e\u4fe1\u606f\u5df2\u786e\u8ba4\uff0c\u5df2\u53d1\u8d27'), (b'TRADE_REFUNDED', '\u5df2\u9000\u6b3e'), (b'TRADE_REFUNDING', '\u9000\u6b3e\u4e2d')])),
                ('sys_status', models.CharField(default=b'', max_length=32, verbose_name='\u7cfb\u7edf\u72b6\u6001', blank=True, choices=[(b'IN_EFFECT', '\u6709\u6548'), (b'INVALID', '\u65e0\u6548')])),
            ],
            options={
                'db_table': 'shop_trades_dirtymergeorder',
                'verbose_name': '\u810f\u8ba2\u5355\u660e\u7ec6',
                'verbose_name_plural': '\u810f\u8ba2\u5355\u660e\u7ec6\u5217\u8868',
            },
        ),
        migrations.CreateModel(
            name='DirtyMergeTrade',
            fields=[
                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),
                ('tid', models.CharField(default=shopback.trades.models_dirty.default_dirtytrade_tid, max_length=32, verbose_name='\u539f\u5355ID')),
                ('buyer_nick', models.CharField(db_index=True, max_length=64, verbose_name='\u4e70\u5bb6\u6635\u79f0', blank=True)),
                ('type', models.CharField(blank=True, max_length=32, verbose_name='\u8ba2\u5355\u7c7b\u578b', db_index=True, choices=[(b'fixed', '\u6dd8\u5b9d&\u5546\u57ce'), (b'fenxiao', '\u6dd8\u5b9d\u5206\u9500'), (b'sale', '\u5c0f\u9e7f\u7279\u5356'), (b'jd', '\u4eac\u4e1c\u5546\u57ce'), (b'yhd', '\u4e00\u53f7\u5e97'), (b'dd', '\u5f53\u5f53\u5546\u57ce'), (b'sn', '\u82cf\u5b81\u6613\u8d2d'), (b'wx', '\u5fae\u4fe1\u5c0f\u5e97'), (b'amz', '\u4e9a\u9a6c\u900a'), (b'direct', '\u5185\u552e'), (b'reissue', '\u8865\u53d1'), (b'exchange', '\u9000\u6362\u8d27')])),
                ('shipping_type', models.CharField(blank=True, max_length=12, verbose_name='\u7269\u6d41\u65b9\u5f0f', choices=[(b'express', '\u5feb\u9012'), (b'post', '\u5e73\u90ae'), (b'ems', 'EMS'), (b'extract', '\u65e0\u9700\u7269\u6d41')])),
                ('order_num', models.IntegerField(default=0, verbose_name='\u5355\u6570')),
                ('prod_num', models.IntegerField(default=0, verbose_name='\u54c1\u7c7b\u6570')),
                ('payment', models.FloatField(default=0.0, verbose_name='\u5b9e\u4ed8\u6b3e')),
                ('discount_fee', models.FloatField(default=0.0, verbose_name='\u6298\u6263')),
                ('adjust_fee', models.FloatField(default=0.0, verbose_name='\u8c03\u6574\u8d39\u7528')),
                ('post_fee', models.FloatField(default=0.0, verbose_name='\u7269\u6d41\u8d39\u7528')),
                ('total_fee', models.FloatField(default=0.0, verbose_name='\u603b\u8d39\u7528')),
                ('is_cod', models.BooleanField(default=False, verbose_name='\u8d27\u5230\u4ed8\u6b3e')),
                ('seller_cod_fee', models.FloatField(default=0.0, verbose_name='COD\u5356\u5bb6\u8d39\u7528')),
                ('buyer_cod_fee', models.FloatField(default=0.0, verbose_name='COD\u4e70\u5bb6\u8d39\u7528')),
                ('cod_fee', models.FloatField(default=0.0, verbose_name='COD\u8d39\u7528')),
                ('cod_status', models.CharField(blank=True, max_length=32, verbose_name='COD\u72b6\u6001', choices=[(b'NEW_CREATED', '\u521d\u59cb\u72b6\u6001'), (b'ACCEPTED_BY_COMPANY', '\u63a5\u5355\u6210\u529f'), (b'REJECTED_BY_COMPANY', '\u63a5\u5355\u5931\u8d25'), (b'RECIEVE_TIMEOUT', '\u63a5\u5355\u8d85\u65f6'), (b'TAKEN_IN_SUCCESS', '\u63fd\u6536\u6210\u529f'), (b'TAKEN_IN_FAILED', '\u63fd\u6536\u5931\u8d25'), (b'TAKEN_TIMEOUT', '\u63fd\u6536\u8d85\u65f6'), (b'SIGN_IN', '\u7b7e\u6536\u6210\u529f'), (b'REJECTED_BY_OTHER_SIDE', '\u7b7e\u6536\u5931\u8d25'), (b'WAITING_TO_BE_SENT', '\u8ba2\u5355\u7b49\u5f85\u53d1\u9001\u7ed9\u7269\u6d41\u516c\u53f8'), (b'CANCELED', '\u7528\u6237\u53d6\u6d88\u7269\u6d41\u8ba2\u5355')])),
                ('weight', models.CharField(max_length=10, verbose_name='\u5305\u88f9\u91cd\u91cf', blank=True)),
                ('post_cost', models.FloatField(default=0.0, verbose_name='\u7269\u6d41\u6210\u672c')),
                ('buyer_message', models.TextField(max_length=1000, verbose_name='\u4e70\u5bb6\u7559\u8a00', blank=True)),
                ('seller_memo', models.TextField(max_length=1000, verbose_name='\u5356\u5bb6\u5907\u6ce8', blank=True)),
                ('sys_memo', models.TextField(max_length=1000, verbose_name='\u7cfb\u7edf\u5907\u6ce8', blank=True)),
                ('seller_flag', models.IntegerField(null=True, verbose_name='\u6dd8\u5b9d\u65d7\u5e1c')),
                ('created', models.DateTimeField(null=True, verbose_name='\u751f\u6210\u65e5\u671f', blank=True)),
                ('pay_time', models.DateTimeField(db_index=True, null=True, verbose_name='\u4ed8\u6b3e\u65e5\u671f', blank=True)),
                ('modified', models.DateTimeField(null=True, verbose_name='\u4fee\u6539\u65e5\u671f', blank=True)),
                ('consign_time', models.DateTimeField(null=True, verbose_name='\u53d1\u8d27\u65e5\u671f', blank=True)),
                ('send_time', models.DateTimeField(null=True, verbose_name='\u9884\u552e\u65e5\u671f', blank=True)),
                ('weight_time', models.DateTimeField(db_index=True, null=True, verbose_name='\u79f0\u91cd\u65e5\u671f', blank=True)),
                ('charge_time', models.DateTimeField(null=True, verbose_name='\u63fd\u4ef6\u65e5\u671f', blank=True)),
                ('remind_time', models.DateTimeField(null=True, verbose_name='\u63d0\u9192\u65e5\u671f', blank=True)),
                ('is_brand_sale', models.BooleanField(default=False, verbose_name='\u54c1\u724c\u7279\u5356')),
                ('is_force_wlb', models.BooleanField(default=False, verbose_name='\u7269\u6d41\u5b9d')),
                ('trade_from', bitfield.models.BitField((b'WAP', b'HITAO', b'TOP', b'TAOBAO', b'JHS'), default=None, verbose_name='\u4ea4\u6613\u6765\u6e90')),
                ('is_lgtype', models.BooleanField(default=False, verbose_name='\u901f\u9012')),
                ('lg_aging', models.DateTimeField(null=True, verbose_name='\u901f\u9012\u9001\u8fbe\u65f6\u95f4', blank=True)),
                ('lg_aging_type', models.CharField(max_length=20, verbose_name='\u901f\u9012\u7c7b\u578b', blank=True)),
                ('buyer_rate', models.BooleanField(default=False, verbose_name='\u4e70\u5bb6\u5df2\u8bc4')),
                ('seller_rate', models.BooleanField(default=False, verbose_name='\u5356\u5bb6\u5df2\u8bc4')),
                ('seller_can_rate', models.BooleanField(default=False, verbose_name='\u5356\u5bb6\u53ef\u8bc4')),
                ('is_part_consign', models.BooleanField(default=False, verbose_name='\u5206\u5355\u53d1\u8d27')),
                ('out_sid', models.CharField(db_index=True, max_length=64, verbose_name='\u7269\u6d41\u7f16\u53f7', blank=True)),
                ('receiver_name', models.CharField(max_length=25, verbose_name='\u6536\u8d27\u4eba\u59d3\u540d', blank=True)),
                ('receiver_state', models.CharField(max_length=16, verbose_name='\u7701', blank=True)),
                ('receiver_city', models.CharField(max_length=16, verbose_name='\u5e02', blank=True)),
                ('receiver_district', models.CharField(max_length=16, verbose_name='\u533a', blank=True)),
                ('receiver_address', models.CharField(max_length=128, verbose_name='\u8be6\u7ec6\u5730\u5740', blank=True)),
                ('receiver_zip', models.CharField(max_length=10, verbose_name='\u90ae\u7f16', blank=True)),
                ('receiver_mobile', models.CharField(db_index=True, max_length=24, verbose_name='\u624b\u673a', blank=True)),
                ('receiver_phone', models.CharField(db_index=True, max_length=20, verbose_name='\u7535\u8bdd', blank=True)),
                ('step_paid_fee', models.CharField(max_length=10, verbose_name='\u5206\u9636\u4ed8\u6b3e\u91d1\u989d', blank=True)),
                ('step_trade_status', models.CharField(blank=True, max_length=32, verbose_name='\u5206\u9636\u4ed8\u6b3e\u72b6\u6001', choices=[(b'FRONT_NOPAID_FINAL_NOPAID', b'\xe5\xae\x9a\xe9\x87\x91\xe6\x9c\xaa\xe4\xbb\x98\xe5\xb0\xbe\xe6\xac\xbe\xe6\x9c\xaa\xe4\xbb\x98'), (b'FRONT_PAID_FINAL_NOPAID', b'\xe5\xae\x9a\xe9\x87\x91\xe5\xb7\xb2\xe4\xbb\x98\xe5\xb0\xbe\xe6\xac\xbe\xe6\x9c\xaa\xe4\xbb\x98'), (b'FRONT_PAID_FINAL_PAID', b'\xe5\xae\x9a\xe9\x87\x91\xe5\x92\x8c\xe5\xb0\xbe\xe6\xac\xbe\xe9\x83\xbd\xe4\xbb\x98')])),
                ('reason_code', models.CharField(max_length=100, verbose_name='\u95ee\u9898\u7f16\u53f7', blank=True)),
                ('status', models.CharField(blank=True, max_length=32, verbose_name='\u8ba2\u5355\u72b6\u6001', choices=[(b'TRADE_NO_CREATE_PAY', '\u8ba2\u5355\u521b\u5efa'), (b'WAIT_BUYER_PAY', '\u5f85\u4ed8\u6b3e'), (b'WAIT_SELLER_SEND_GOODS', '\u5f85\u53d1\u8d27'), (b'WAIT_BUYER_CONFIRM_GOODS', '\u5f85\u786e\u8ba4\u6536\u8d27'), (b'TRADE_BUYER_SIGNED', '\u8d27\u5230\u4ed8\u6b3e\u7b7e\u6536'), (b'TRADE_FINISHED', '\u4ea4\u6613\u6210\u529f'), (b'TRADE_CLOSED', '\u9000\u6b3e\u4ea4\u6613\u5173\u95ed'), (b'TRADE_CLOSED_BY_TAOBAO', '\u672a\u4ed8\u6b3e\u5173\u95ed')])),
                ('is_picking_print', models.BooleanField(default=False, verbose_name='\u53d1\u8d27\u5355')),
                ('is_express_print', models.BooleanField(default=False, verbose_name='\u7269\u6d41\u5355')),
                ('is_send_sms', models.BooleanField(default=False, verbose_name='\u53d1\u8d27\u901a\u77e5')),
                ('has_refund', models.BooleanField(default=False, verbose_name='\u5f85\u9000\u6b3e')),
                ('has_out_stock', models.BooleanField(default=False, verbose_name='\u7f3a\u8d27')),
                ('has_rule_match', models.BooleanField(default=False, verbose_name='\u6709\u5339\u914d')),
                ('has_memo', models.BooleanField(default=False, verbose_name='\u6709\u7559\u8a00')),
                ('has_merge', models.BooleanField(default=False, verbose_name='\u6709\u5408\u5355')),
                ('has_sys_err', models.BooleanField(default=False, verbose_name='\u7cfb\u7edf\u9519\u8bef')),
                ('refund_num', models.IntegerField(default=0, null=True, verbose_name='\u9000\u6b3e\u5355\u6570')),
                ('is_qrcode', models.BooleanField(default=False, verbose_name='\u70ed\u654f\u8ba2\u5355')),
                ('qrcode_msg', models.CharField(max_length=32, verbose_name='\u6253\u5370\u4fe1\u606f', blank=True)),
                ('can_review', models.BooleanField(default=False, verbose_name='\u590d\u5ba1')),
                ('priority', models.IntegerField(default=0, verbose_name='\u4f18\u5148\u7ea7', choices=[(-1, '\u9ad8'), (0, '\u4e2d'), (1, '\u4f4e')])),
                ('operator', models.CharField(max_length=32, verbose_name='\u6253\u5355\u5458', blank=True)),
                ('scanner', models.CharField(max_length=64, verbose_name='\u626b\u63cf\u5458', blank=True)),
                ('weighter', models.CharField(max_length=64, verbose_name='\u79f0\u91cd\u5458', blank=True)),
                ('is_locked', models.BooleanField(default=False, verbose_name='\u9501\u5b9a')),
                ('is_charged', models.BooleanField(default=False, verbose_name='\u63fd\u4ef6')),
                ('sys_status', models.CharField(default=b'', choices=[(b'WAIT_AUDIT', '\u95ee\u9898\u5355'), (b'WAIT_PREPARE_SEND', '\u5f85\u53d1\u8d27\u51c6\u5907'), (b'WAIT_CHECK_BARCODE', '\u5f85\u626b\u63cf\u9a8c\u8d27'), (b'WAIT_SCAN_WEIGHT', '\u5f85\u626b\u63cf\u79f0\u91cd'), (b'FINISHED', '\u5df2\u5b8c\u6210'), (b'INVALID', '\u5df2\u4f5c\u5e9f'), (b'ON_THE_FLY', '\u98de\u884c\u6a21\u5f0f'), (b'REGULAR_REMAIN', '\u5b9a\u65f6\u63d0\u9192')], max_length=32, blank=True, verbose_name='\u7cfb\u7edf\u72b6\u6001', db_index=True)),
                ('ware_by', models.IntegerField(default=1, db_index=True, verbose_name='\u6240\u5c5e\u4ed3\u5e93', choices=[(0, '\u672a\u9009\u4ed3'), (1, '\u4e0a\u6d77\u4ed3'), (2, '\u5e7f\u5dde\u4ed3')])),
                ('reserveo', models.CharField(max_length=64, verbose_name='\u81ea\u5b9a\u4e491', blank=True)),
                ('reservet', models.CharField(max_length=64, verbose_name='\u81ea\u5b9a\u4e492', blank=True)),
                ('reserveh', models.CharField(max_length=64, verbose_name='\u81ea\u5b9a\u4e493', blank=True)),
                ('logistics_company', models.ForeignKey(verbose_name='\u7269\u6d41\u516c\u53f8', blank=True, to='logistics.LogisticsCompany', null=True)),
                ('user', models.ForeignKey(related_name='dirty_merge_trades', verbose_name='\u6240\u5c5e\u5e97\u94fa', blank=True, to='users.User', null=True)),
            ],
            options={
                'db_table': 'shop_trades_dirtymergetrade',
                'verbose_name': '\u810f\u8ba2\u5355',
                'verbose_name_plural': '\u810f\u8ba2\u5355\u5217\u8868',
            },
        ),
        migrations.AddField(
            model_name='dirtymergeorder',
            name='merge_trade',
            field=models.ForeignKey(related_name='merge_orders', verbose_name='\u6240\u5c5e\u8ba2\u5355', blank=True, to='trades.DirtyMergeTrade', null=True),
        ),
    ]
